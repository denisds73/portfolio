<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>NavBar</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/snap.css" />
    <script
      src="https://kit.fontawesome.com/2b92c46439.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav>
      <input type="checkbox" name="" id="check" />
      <label for="check" class="checkbtn">
        <i class="fa fa-bars"></i>
      </label>
      <label for="" class="logo">Denis</label>
      <ul>
        <li class="home">
          <a class="link" href="#home">Home</a>
        </li>
        <li class="project">
          <a class="link" href="#project">Project</a>
        </li>
        <li class="education">
          <a class="link" href="#education">Education</a>
        </li>
        <li class="about"><a class="link" href="#about">About</a></li>
      </ul>
    </nav>

    <section id="home"><h1>Home</h1></section>
    <section id="project"><h1>Project</h1></section>
    <section id="education"><h1>Education</h1></section>
    <section id="about"><h1>About</h1></section>

    <a href="#" class="to-top">
      <i class="fas fa-angle-up"></i>
    </a>

    <!-- SCRIPT STARTS -->

    <script>
      const navLi = document.querySelectorAll("nav ul li");
      const sections = document.querySelectorAll("section");

      window.addEventListener("scroll", () => {
        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (pageYOffset >= sectionTop - sectionHeight / 3) {
            current = section.getAttribute("id");
          }
        });
        navLi.forEach((li) => {
          li.classList.remove("active");
          if (li.classList.contains(current)) {
            li.classList.add("active");
          }
        });
        console.log(current);
      });

      const toTop = document.querySelector(".to-top");

      window.addEventListener("scroll", () => {
        if (window.pageYOffset > 300) {
          toTop.classList.add("activ");
        } else {
          toTop.classList.remove("activ");
        }
      });
    </script>

    <!-- SCRIPT ENDS -->
  </body>
</html>
